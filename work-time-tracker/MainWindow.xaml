<mui:ModernWindow
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:mui="http://firstfloorsoftware.com/ModernUI"
		xmlns:local="clr-namespace:work_time_tracker"
		xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
		xmlns:ei="http://schemas.microsoft.com/expression/2010/interactions" x:Class="work_time_tracker.MainWindow"
		Title="Work Time Tracker" Height="600" Width="800" Style="{DynamicResource BlankWindow}">
	<mui:ModernWindow.Resources>
		<Style TargetType="{x:Type Calendar}" x:Key="test">
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="{x:Type Calendar}">
						<Grid x:Name="PART_Root" Width="Auto" Height="Auto">
							<CalendarItem x:Name="PART_CalendarItem" Style="{TemplateBinding CalendarItemStyle}" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
								<CalendarItem.Template>
									<ControlTemplate TargetType="{x:Type CalendarItem}">
										<DockPanel>
											<Grid DockPanel.Dock="Top">
												<Grid.ColumnDefinitions>
													<ColumnDefinition Width="Auto" />
													<ColumnDefinition Width="*" />
													<ColumnDefinition Width="Auto" />
												</Grid.ColumnDefinitions>
												<Button x:Name="PART_PreviousButton" Content="&lt;" />
												<Button Grid.Column="1" x:Name="PART_HeaderButton" />
												<Button Grid.Column="2" x:Name="PART_NextButton" Content="&gt;" />
											</Grid>
											<Grid x:Name="PART_MonthView">
												<Grid.RowDefinitions>
													<RowDefinition />
													<RowDefinition />
													<RowDefinition />
													<RowDefinition />
													<RowDefinition />
													<RowDefinition />
													<RowDefinition />
												</Grid.RowDefinitions>
												<Grid.ColumnDefinitions>
													<ColumnDefinition />
													<ColumnDefinition />
													<ColumnDefinition />
													<ColumnDefinition />
													<ColumnDefinition />
													<ColumnDefinition />
													<ColumnDefinition />
												</Grid.ColumnDefinitions>
											</Grid>
											<Grid x:Name="PART_YearView">
												<Grid.RowDefinitions>
													<RowDefinition />
													<RowDefinition />
													<RowDefinition />
												</Grid.RowDefinitions>
												<Grid.ColumnDefinitions>
													<ColumnDefinition />
													<ColumnDefinition />
													<ColumnDefinition />
													<ColumnDefinition />
												</Grid.ColumnDefinitions>
											</Grid>
										</DockPanel>
									</ControlTemplate>
								</CalendarItem.Template>
							</CalendarItem>
						</Grid>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
		<Style TargetType="{x:Type Calendar}" BasedOn="{StaticResource {x:Type Calendar}}">
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="{x:Type Calendar}">
						<Grid x:Name="PART_Root" Height="Auto" Width="Auto">
							<CalendarItem x:Name="PART_CalendarItem" Style="{TemplateBinding CalendarItemStyle}" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" />
						</Grid>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
		<Style TargetType="{x:Type CalendarItem}">
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="{x:Type CalendarItem}">
						<ControlTemplate.Resources>
							<DataTemplate x:Key="{x:Static CalendarItem.DayTitleTemplateResourceKey}">
								<TextBlock x:Name="Text" FontWeight="Bold" FontSize="{DynamicResource DefaultFontSize}" Foreground="{DynamicResource ItemText}" HorizontalAlignment="Center" Text="{Binding}" Margin="0,6,0,6" VerticalAlignment="Center"/>
							</DataTemplate>
						</ControlTemplate.Resources>
						<Grid x:Name="PART_Root">
							<Grid.RowDefinitions>
								<RowDefinition Height="AUto" />
								<RowDefinition />
							</Grid.RowDefinitions>
							<Grid>
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="Auto" />
									<ColumnDefinition Width="*" />
									<ColumnDefinition Width="Auto" />
								</Grid.ColumnDefinitions>
								<Button x:Name="PART_PreviousButton" Grid.Row="0" Grid.Column="0" Margin="-1,-1,0,0" Padding="10,4,10,3" Focusable="False">
									<Path Height="10" Width="6" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="Fill" Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType={x:Type Button}}}" Data="F1 M 0,0 1,1 1,-1 Z" />
								</Button>
								<Button x:Name="PART_NextButton" Grid.Row="0" Grid.Column="2" Margin="0,-1,-1,0" Padding="10,4,10,3" Focusable="False">
									<Path Height="10" Width="6" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="Fill" Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType={x:Type Button}}}" Data="F1 M 0,1 1,0 0,-1 Z" />
								</Button>
								<Button x:Name="PART_HeaderButton" Grid.Row="0" Grid.Column="1" Margin="-1,-1,-1,0" HorizontalAlignment="Stretch" VerticalAlignment="Center" FontWeight="Bold" Focusable="False" />
							</Grid>
							<Grid Grid.Row="1" x:Name="PART_MonthView" Visibility="Visible" Margin="8">
								<Grid.RowDefinitions>
									<RowDefinition Height="Auto" />
									<RowDefinition />
									<RowDefinition />
									<RowDefinition />
									<RowDefinition />
									<RowDefinition />
									<RowDefinition />
								</Grid.RowDefinitions>
								<Grid.ColumnDefinitions>
									<ColumnDefinition />
									<ColumnDefinition />
									<ColumnDefinition />
									<ColumnDefinition />
									<ColumnDefinition />
									<ColumnDefinition />
									<ColumnDefinition />
								</Grid.ColumnDefinitions>
							</Grid>
							<Grid Grid.Row="1" x:Name="PART_YearView" Visibility="Hidden" Margin="8">
								<Grid.RowDefinitions>
									<RowDefinition Height="Auto" />
									<RowDefinition />
									<RowDefinition />
								</Grid.RowDefinitions>
								<Grid.ColumnDefinitions>
									<ColumnDefinition />
									<ColumnDefinition />
									<ColumnDefinition />
									<ColumnDefinition />
								</Grid.ColumnDefinitions>
							</Grid>
						</Grid>
						<ControlTemplate.Triggers>
							<DataTrigger Value="Year" Binding="{Binding DisplayMode, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Calendar}}}">
								<Setter TargetName="PART_MonthView" Property="Visibility" Value="Hidden" />
								<Setter TargetName="PART_YearView" Property="Visibility" Value="Visible" />
							</DataTrigger>
							<DataTrigger Value="Decade" Binding="{Binding DisplayMode, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Calendar}}}">
								<Setter TargetName="PART_MonthView" Property="Visibility" Value="Hidden" />
								<Setter TargetName="PART_YearView" Property="Visibility" Value="Visible" />
							</DataTrigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
		<Style TargetType="{x:Type CalendarDayButton}" BasedOn="{StaticResource {x:Type CalendarDayButton}}">
			<Setter Property="HorizontalContentAlignment" Value="Right"/>
			<Setter Property="VerticalContentAlignment" Value="Bottom"/>
		</Style>
		<Style TargetType="Label" BasedOn="{StaticResource {x:Type Label}}">
			<Setter Property="Margin" Value="5" />
		</Style>
		<Style TargetType="TextBox" BasedOn="{StaticResource {x:Type TextBox}}">
			<Setter Property="Margin" Value="5" />
		</Style>
		<Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
			<Setter Property="Margin" Value="5" />
		</Style>
		<PathGeometry x:Key="SaveIcon">F1 M 20.5833,20.5833L 55.4167,20.5833L 55.4167,55.4167L 45.9167,55.4167L 45.9167,44.3333L 30.0833,44.3333L 30.0833,55.4167L 20.5833,55.4167L 20.5833,20.5833 Z M 33.25,55.4167L 33.25,50.6667L 39.5833,50.6667L 39.5833,55.4167L 33.25,55.4167 Z M 26.9167,23.75L 26.9167,33.25L 49.0833,33.25L 49.0833,23.75L 26.9167,23.75 Z</PathGeometry>
		<PathGeometry x:Key="NowIcon">F1 M 38,23.75C 46.7445,23.75 53.8333,30.8388 53.8333,39.5833C 53.8333,48.3278 46.7445,55.4167 38,55.4167C 29.2555,55.4167 22.1667,48.3278 22.1667,39.5833C 22.1667,30.8388 29.2555,23.75 38,23.75 Z M 38,27.7083C 31.4416,27.7083 26.125,33.025 26.125,39.5833C 26.125,46.1417 31.4416,51.4583 38,51.4583C 44.5584,51.4583 49.875,46.1417 49.875,39.5833C 49.875,33.025 44.5584,27.7083 38,27.7083 Z M 37.6042,30.875C 38.4786,30.875 39.1875,31.5839 39.1875,32.4583L 39.1875,38.3959L 45.125,38.3959C 45.9994,38.3959 46.7083,39.1047 46.7083,39.9792L 46.7083,40.7708C 46.7083,41.6453 45.9994,42.3542 45.125,42.3542L 38,42.3542C 37.2083,42.2222 36.4167,42.0903 35.9548,41.6285C 35.493,41.1667 35.3611,40.375 35.2292,39.5833L 35.2292,32.4583C 35.2292,31.5839 35.938,30.875 36.8125,30.875L 37.6042,30.875 Z M 49.0833,20.5833C 52.5811,20.5833 55.4167,23.4189 55.4167,26.9167C 55.4167,28.4256 54.889,29.8113 54.008,30.8993C 51.9429,27.1006 48.5651,24.1189 44.4835,22.5632C 45.6379,21.3439 47.2718,20.5833 49.0833,20.5833 Z M 26.9167,20.5834C 28.7282,20.5834 30.3621,21.3439 31.5165,22.5632C 27.4349,24.1189 24.0571,27.1006 21.992,30.8993C 21.111,29.8113 20.5833,28.4256 20.5833,26.9167C 20.5833,23.4189 23.4189,20.5834 26.9167,20.5834 Z</PathGeometry>
	</mui:ModernWindow.Resources>
	<mui:ModernWindow.DataContext>
		<local:MainWindowViewModel/>
	</mui:ModernWindow.DataContext>
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition />
			<RowDefinition Height="Auto" />
		</Grid.RowDefinitions>
		<Grid>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="6*" />
				<ColumnDefinition Width="4*" />
			</Grid.ColumnDefinitions>
			<Calendar SelectedDate="{Binding SelectedDate}" />
			<Grid Grid.Column="1">
				<Grid>
					<Grid.RowDefinitions>
						<RowDefinition />
						<RowDefinition />
					</Grid.RowDefinitions>
					<DataGrid ItemsSource="{Binding SelectedItem.WorkItems}" AutoGenerateColumns="False" IsReadOnly="True">
						<DataGrid.Columns>
							<DataGridTextColumn Header="Projekt" Binding="{Binding Project}" />
							<DataGridTextColumn Header="Gearbeitete Zeit" Binding="{Binding WorkedTime}" />
						</DataGrid.Columns>
						<DataGrid.RowDetailsTemplate>
							<DataTemplate DataType="local:WorkItem">
								<DataTemplate.Resources>
									<Style TargetType="Grid">
										<Setter Property="Margin" Value="5" />
									</Style>
								</DataTemplate.Resources>
								<Grid>
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="Auto" />
										<ColumnDefinition />
									</Grid.ColumnDefinitions>
									<Grid.RowDefinitions>
										<RowDefinition Height="Auto" />
										<RowDefinition Height="Auto" />
										<RowDefinition Height="Auto" />
										<RowDefinition Height="Auto" />
										<RowDefinition Height="Auto" />
										<RowDefinition />
									</Grid.RowDefinitions>
									<Label>Projekt</Label>
									<TextBox IsReadOnly="True" Grid.Column="1" Text="{Binding Project}" />
									<Label Grid.Row="1">Startzeit</Label>
									<TextBox IsReadOnly="True" Grid.Row="1" Grid.Column="1" Text="{Binding StartTime}" />
									<Label Grid.Row="2">Endzeit</Label>
									<TextBox IsReadOnly="True" Grid.Row="2" Grid.Column="1" Text="{Binding EndTime}" />
									<Label Grid.Row="3">Gearbeitete Zeit</Label>
									<TextBox Grid.Row="3" Grid.Column="1" Text="{Binding WorkedTime}" IsReadOnly="True" />
									<Label Grid.Row="4">Gearbeitete Zeit</Label>
									<TextBox IsReadOnly="True" Grid.Row="4" Grid.Column="1" AcceptsReturn="True" Height="66" Text="{Binding Description}" />
								</Grid>
							</DataTemplate>
						</DataGrid.RowDetailsTemplate>
					</DataGrid>
					<ScrollViewer Grid.Row="1">
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition Width="Auto" />
								<ColumnDefinition />
							</Grid.ColumnDefinitions>
							<Grid.RowDefinitions>
								<RowDefinition Height="Auto" />
								<RowDefinition Height="Auto" />
								<RowDefinition Height="Auto" />
								<RowDefinition Height="Auto" />
								<RowDefinition Height="Auto" />
								<RowDefinition />
							</Grid.RowDefinitions>
							<Label>Projekt</Label>
							<TextBox Grid.Column="1" Text="{Binding NewWorkItem.Project}" />
							<Label Grid.Row="1">Startzeit</Label>
							<TextBox Grid.Row="1" Grid.Column="1" Text="{Binding NewWorkItem.StartTime}" />
							<mui:ModernButton Command="{Binding SetStartTimeNow}" Grid.Column="1" Grid.Row="1" HorizontalAlignment="Right" Margin="0,0,5,0" IconData="{StaticResource NowIcon}"></mui:ModernButton>
							<Label Grid.Row="2">Endzeit</Label>
							<TextBox Grid.Row="2" Grid.Column="1" Text="{Binding NewWorkItem.EndTime}" />
							<mui:ModernButton Command="{Binding SetEndTimeNow}" Grid.Column="1" Grid.Row="2" HorizontalAlignment="Right" Margin="0,0,5,0" IconData="{StaticResource NowIcon}"></mui:ModernButton>
							<Label Grid.Row="3">Gearbeitete Zeit</Label>
							<TextBox Grid.Row="3" Grid.Column="1" Text="{Binding NewWorkItem.WorkedTime}" IsReadOnly="True" />
							<Label Grid.Row="4">Gearbeitete Zeit</Label>
							<TextBox Grid.Row="4" Grid.Column="1" AcceptsReturn="True" Height="66" Text="{Binding NewWorkItem.Description}" />
							<Button Grid.Column="1" Grid.Row="5" VerticalAlignment="Top" Command="{Binding AddWorkItemCommand}">Hinzufügen</Button>
						</Grid>
					</ScrollViewer>
				</Grid>
			</Grid>
		</Grid>
		<Grid Grid.Row="1">
			<mui:ModernButton Command="{Binding SaveCommand}" IconData="{DynamicResource SaveIcon}" HorizontalAlignment="Right" EllipseDiameter="64" EllipseStrokeThickness="3" IconWidth="36" IconHeight="36" />
		</Grid>
	</Grid>
</mui:ModernWindow>
